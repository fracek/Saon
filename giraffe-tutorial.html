<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Tutorial: Using Saon with Giraffe
</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fracek.github.io/Saon/style.css">
</head>
<body>
<header>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <a href="/index.html" class="navbar-brand">Saon</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="https://fracek.github.io/Saon/index.html">Home</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="tutorialDropdownLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Tutorials
                    </a>
                    <div class="dropdown-menu" aria-labelledby="tutorialDropdownLink">
                        <a class="dropdown-item" href="https://fracek.github.io/Saon/giraffe-tutorial.html">Using with Giraffe</a>
                        <a class="dropdown-item" href="https://fracek.github.io/Saon/json-tutorial.html">Parsing json data</a>
                        <a class="dropdown-item" href="https://fracek.github.io/Saon/query-tutorial.html">Parsing query strings</a>
                        <a class="dropdown-item" href="https://fracek.github.io/Saon/validate-tutorial.html">Validating data</a>
                        <a class="dropdown-item" href="https://fracek.github.io/Saon/convert-tutorial.html">Converting data</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="https://fracek.github.io/Saon/reference/index.html">API Reference</a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<main class="main-content">
    <div class="container">
        

<div>
	<h1><a name="Tutorial-Using-Saon-with-Giraffe" class="anchor" href="#Tutorial-Using-Saon-with-Giraffe">Tutorial: Using Saon with Giraffe</a></h1>
<p>In this tutorial you will learn how to use Saon together with Giraffe or Saturn.</p>
<p>We start by defining the model for our application and the json and query parsers. You can read more about the
<a href="json-tutorial.html">json parser</a> and <a href="query-tutorial.html">query parser</a> in their respective tutorials.</p>
<p>For now, the important thing to note is that <code>parseContactDetails</code> has signature
<code>JsonElement -&gt; ParserResult&lt;Model.ContactDetails&gt;</code> and <code>parseLookup</code> has signature
<code>IQueryCollection -&gt; ParserResult&lt;Model.Lookup&gt;</code>.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">module</span> <span class="m">Model</span> <span class="o">=</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="rt">Email</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs1', 2)" onmouseover="showTip(event, 'fs1', 2)" class="uc">Email</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs2', 3)" onmouseover="showTip(event, 'fs2', 3)" class="rt">string</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs3', 4)" onmouseover="showTip(event, 'fs3', 4)" class="rt">LookupType</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="uc">LookupName</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs5', 6)" onmouseover="showTip(event, 'fs5', 6)" class="uc">LookupEmail</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs6', 7)" onmouseover="showTip(event, 'fs6', 7)" class="rt">Lookup</span> <span class="o">=</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="uc">LookupName</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs2', 9)" onmouseover="showTip(event, 'fs2', 9)" class="rt">string</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs8', 10)" onmouseover="showTip(event, 'fs8', 10)" class="uc">LookupEmail</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs1', 11)" onmouseover="showTip(event, 'fs1', 11)" class="rt">Email</span>

    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs9', 12)" onmouseover="showTip(event, 'fs9', 12)" class="rt">ContactDetails</span> <span class="o">=</span>
        <span class="pn">{</span> <span onmouseout="hideTip(event, 'fs10', 13)" onmouseover="showTip(event, 'fs10', 13)" class="id">Name</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs2', 14)" onmouseover="showTip(event, 'fs2', 14)" class="rt">string</span>
          <span onmouseout="hideTip(event, 'fs11', 15)" onmouseover="showTip(event, 'fs11', 15)" class="id">Email</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs1', 16)" onmouseover="showTip(event, 'fs1', 16)" class="rt">Email</span> <span class="pn">}</span>


<span class="k">module</span> <span class="m">Dto</span> <span class="o">=</span>
    <span class="k">open</span> <span onmouseout="hideTip(event, 'fs12', 17)" onmouseover="showTip(event, 'fs12', 17)" class="id">Model</span>
    <span class="k">open</span> <span class="id">Saon</span>
    <span class="k">open</span> <span class="id">Saon</span><span class="pn">.</span><span class="id">Query</span>
    <span class="k">open</span> <span class="id">Saon</span><span class="pn">.</span><span class="id">Json</span>
    <span class="k">open</span> <span class="id">Saon</span><span class="pn">.</span><span class="id">Operators</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 18)" onmouseover="showTip(event, 'fs13', 18)" class="id">parseEmail</span> <span class="o">=</span>
        <span class="id">Validate</span><span class="pn">.</span><span class="id">isNotEmptyOrWhitespace</span>
        <span class="o">/&gt;</span> <span class="id">Validate</span><span class="pn">.</span><span class="id">isEmail</span>
        <span class="o">/&gt;</span> <span class="id">Convert</span><span class="pn">.</span><span class="id">withFunction</span> <span onmouseout="hideTip(event, 'fs1', 19)" onmouseover="showTip(event, 'fs1', 19)" class="id">Email</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs14', 20)" onmouseover="showTip(event, 'fs14', 20)" class="id">parseContactDetails</span> <span class="o">=</span> <span class="id">jsonObjectParser</span> <span class="pn">{</span>
        <span class="k">let!</span> <span class="id">name</span> <span class="o">=</span> <span class="id">Json</span><span class="pn">.</span><span class="id">property</span> <span class="s">&quot;name&quot;</span> <span class="pn">(</span><span class="id">Json</span><span class="pn">.</span><span class="id">string</span> <span class="o">/&gt;</span> <span class="id">Validate</span><span class="pn">.</span><span class="id">isNotEmptyOrWhitespace</span><span class="pn">)</span>
        <span class="k">let!</span> <span class="id">email</span> <span class="o">=</span> <span class="id">Json</span><span class="pn">.</span><span class="id">property</span> <span class="s">&quot;email&quot;</span> <span class="pn">(</span><span class="id">Json</span><span class="pn">.</span><span class="id">string</span> <span class="o">/&gt;</span> <span onmouseout="hideTip(event, 'fs13', 21)" onmouseover="showTip(event, 'fs13', 21)" class="id">parseEmail</span><span class="pn">)</span>
        <span class="k">return</span> <span class="pn">{</span> <span class="id">Name</span> <span class="o">=</span> <span class="id">name</span><span class="pn">;</span> <span onmouseout="hideTip(event, 'fs1', 22)" onmouseover="showTip(event, 'fs1', 22)" class="id">Email</span> <span class="o">=</span> <span class="id">email</span> <span class="pn">}</span>
    <span class="pn">}</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 23)" onmouseover="showTip(event, 'fs15', 23)" class="fn">parseLookupType</span> <span onmouseout="hideTip(event, 'fs16', 24)" onmouseover="showTip(event, 'fs16', 24)" class="id">paramName</span> <span class="o">=</span> <span class="k">function</span>
        <span class="pn">|</span> <span class="s">&quot;name&quot;</span> <span class="k">-&gt;</span> <span class="id">ParserResult</span><span class="pn">.</span><span class="id">success</span> <span onmouseout="hideTip(event, 'fs3', 25)" onmouseover="showTip(event, 'fs3', 25)" class="id">LookupType</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 26)" onmouseover="showTip(event, 'fs4', 26)" class="id">LookupName</span>
        <span class="pn">|</span> <span class="s">&quot;email&quot;</span> <span class="k">-&gt;</span> <span class="id">ParserResult</span><span class="pn">.</span><span class="id">success</span> <span onmouseout="hideTip(event, 'fs3', 27)" onmouseover="showTip(event, 'fs3', 27)" class="id">LookupType</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 28)" onmouseover="showTip(event, 'fs5', 28)" class="id">LookupEmail</span>
        <span class="pn">|</span> <span class="id">_</span> <span class="k">-&gt;</span> <span class="id">ParserResult</span><span class="pn">.</span><span class="id">validationFail</span> <span class="s">&quot;type&quot;</span> <span onmouseout="hideTip(event, 'fs16', 29)" onmouseover="showTip(event, 'fs16', 29)" class="id">paramName</span> <span class="s">&quot;must be one of &#39;name&#39;, &#39;email&#39;&quot;</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 30)" onmouseover="showTip(event, 'fs17', 30)" class="id">parseLookup</span> <span class="o">=</span> <span class="id">queryParser</span> <span class="pn">{</span>
        <span class="k">let!</span> <span class="id">lookupType</span> <span class="o">=</span> <span class="id">Query</span><span class="pn">.</span><span class="id">parameter</span> <span class="s">&quot;type&quot;</span> <span class="pn">(</span><span class="id">Query</span><span class="pn">.</span><span class="id">string</span> <span class="o">/&gt;</span> <span onmouseout="hideTip(event, 'fs15', 31)" onmouseover="showTip(event, 'fs15', 31)" class="id">parseLookupType</span><span class="pn">)</span>
        <span class="k">match</span> <span class="id">lookupType</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs3', 32)" onmouseover="showTip(event, 'fs3', 32)" class="id">LookupType</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs4', 33)" onmouseover="showTip(event, 'fs4', 33)" class="id">LookupName</span> <span class="k">-&gt;</span>
            <span class="k">let!</span> <span class="id">value</span> <span class="o">=</span> <span class="id">Query</span><span class="pn">.</span><span class="id">parameter</span> <span class="s">&quot;value&quot;</span> <span class="id">Query</span><span class="pn">.</span><span class="id">string</span>
            <span class="k">return</span> <span onmouseout="hideTip(event, 'fs7', 34)" onmouseover="showTip(event, 'fs7', 34)" class="id">LookupName</span> <span class="id">value</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs3', 35)" onmouseover="showTip(event, 'fs3', 35)" class="id">LookupType</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs5', 36)" onmouseover="showTip(event, 'fs5', 36)" class="id">LookupEmail</span> <span class="k">-&gt;</span>
            <span class="k">let!</span> <span class="id">value</span> <span class="o">=</span> <span class="id">Query</span><span class="pn">.</span><span class="id">parameter</span> <span class="s">&quot;value&quot;</span> <span class="pn">(</span><span class="id">Query</span><span class="pn">.</span><span class="id">string</span> <span class="o">/&gt;</span> <span class="id">Validate</span><span class="pn">.</span><span class="id">isEmail</span><span class="pn">)</span>
            <span class="k">return</span> <span onmouseout="hideTip(event, 'fs1', 37)" onmouseover="showTip(event, 'fs1', 37)" class="id">Email</span> <span class="id">value</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs8', 38)" onmouseover="showTip(event, 'fs8', 38)" class="id">LookupEmail</span>
    <span class="pn">}</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Helper-function-to-parse-json-payloads-and-query-strings" class="anchor" href="#Helper-function-to-parse-json-payloads-and-query-strings">Helper function to parse json payloads and query strings</a></h2>
<p>We now define a couple of helper functions that you can re-use in your application. The functions are similar to
Giraffe own <code>bindJson</code> and <code>bindQueryString</code>, the difference is that they take a Saon parser as an additional parameter.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">module</span> <span class="m">Helper</span> <span class="o">=</span>
    <span class="k">open</span> <span onmouseout="hideTip(event, 'fs18', 39)" onmouseover="showTip(event, 'fs18', 39)" class="id">Microsoft</span><span class="pn">.</span><span class="id">AspNetCore</span><span class="pn">.</span><span class="id">Http</span><span class="pn">.</span><span class="id">Features</span>
    <span class="k">open</span> <span class="id">Saon</span>
    <span class="k">open</span> <span onmouseout="hideTip(event, 'fs19', 40)" onmouseover="showTip(event, 'fs19', 40)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs20', 41)" onmouseover="showTip(event, 'fs20', 41)" class="id">Text</span><span class="pn">.</span><span class="id">Json</span>

    <span class="k">let</span> <span class="k">internal</span> <span onmouseout="hideTip(event, 'fs21', 42)" onmouseover="showTip(event, 'fs21', 42)" class="fn">badRequest</span> <span onmouseout="hideTip(event, 'fs22', 43)" onmouseover="showTip(event, 'fs22', 43)" class="id">payload</span> <span class="pn">:</span> <span class="id">HttpHandler</span> <span class="o">=</span>
        <span class="id">clearResponse</span> <span class="pn">&gt;</span><span class="o">=&gt;</span> <span class="id">setStatusCode</span> <span class="n">400</span> <span class="pn">&gt;</span><span class="o">=&gt;</span> <span class="id">json</span> <span onmouseout="hideTip(event, 'fs22', 44)" onmouseover="showTip(event, 'fs22', 44)" class="id">payload</span>

    <span class="k">let</span> <span class="k">internal</span> <span onmouseout="hideTip(event, 'fs23', 45)" onmouseover="showTip(event, 'fs23', 45)" class="fn">handleParserResult</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs24', 46)" onmouseover="showTip(event, 'fs24', 46)" class="id">result</span> <span class="pn">:</span> <span class="id">ParserResult</span><span class="pn">&lt;</span><span class="id">&#39;</span><span class="id">T</span><span class="pn">&gt;</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs25', 47)" onmouseover="showTip(event, 'fs25', 47)" class="fn">handler</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span> <span class="k">-&gt;</span> <span class="id">HttpHandler</span><span class="pn">)</span> <span class="pn">:</span> <span class="id">HttpHandler</span> <span class="o">=</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs24', 48)" onmouseover="showTip(event, 'fs24', 48)" class="id">result</span> <span class="k">with</span>
        <span class="pn">|</span> <span class="id">Success</span> <span class="id">value</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs25', 49)" onmouseover="showTip(event, 'fs25', 49)" class="id">handler</span> <span class="id">value</span>
        <span class="pn">|</span> <span class="id">ParsingFailed</span> <span class="pn">(</span><span class="id">field</span><span class="pn">,</span> <span class="id">msg</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span onmouseout="hideTip(event, 'fs21', 50)" onmouseover="showTip(event, 'fs21', 50)" class="id">badRequest</span> <span class="pn">{|</span> <span class="id">Message</span> <span class="o">=</span> <span class="id">msg</span> <span class="pn">|}</span>
        <span class="pn">|</span> <span class="id">ValidationFailed</span> <span class="id">failMap</span> <span class="k">-&gt;</span>
            <span onmouseout="hideTip(event, 'fs21', 51)" onmouseover="showTip(event, 'fs21', 51)" class="id">badRequest</span> <span class="pn">{|</span> <span class="id">Message</span> <span class="o">=</span> <span class="s">&quot;validation failed&quot;</span><span class="pn">;</span> <span class="id">Errors</span> <span class="o">=</span> <span class="id">failMap</span> <span class="pn">|}</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs26', 52)" onmouseover="showTip(event, 'fs26', 52)" class="fn">bindJson</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">T</span><span class="pn">&gt;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs27', 53)" onmouseover="showTip(event, 'fs27', 53)" class="fn">parse</span> <span class="pn">:</span> <span class="id">JsonElement</span> <span class="k">-&gt;</span> <span class="id">ParserResult</span><span class="pn">&lt;</span><span class="id">&#39;</span><span class="id">T</span><span class="pn">&gt;</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs28', 54)" onmouseover="showTip(event, 'fs28', 54)" class="fn">handler</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span> <span class="k">-&gt;</span> <span class="id">HttpHandler</span><span class="pn">)</span> <span class="pn">:</span> <span class="id">HttpHandler</span> <span class="o">=</span>
        <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs29', 55)" onmouseover="showTip(event, 'fs29', 55)" class="id">next</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs30', 56)" onmouseover="showTip(event, 'fs30', 56)" class="id">ctx</span> <span class="pn">:</span> <span class="id">HttpContext</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span class="id">task</span> <span class="pn">{</span>
                <span class="k">let!</span> <span class="id">document</span> <span class="o">=</span> <span class="id">JsonDocument</span><span class="pn">.</span><span class="id">ParseAsync</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs30', 57)" onmouseover="showTip(event, 'fs30', 57)" class="id">ctx</span><span class="pn">.</span><span class="id">Request</span><span class="pn">.</span><span class="id">Body</span><span class="pn">)</span>
                <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs23', 58)" onmouseover="showTip(event, 'fs23', 58)" class="id">handleParserResult</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs27', 59)" onmouseover="showTip(event, 'fs27', 59)" class="id">parse</span> <span class="id">document</span><span class="pn">.</span><span class="id">RootElement</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs28', 60)" onmouseover="showTip(event, 'fs28', 60)" class="id">handler</span> <span onmouseout="hideTip(event, 'fs29', 61)" onmouseover="showTip(event, 'fs29', 61)" class="id">next</span> <span onmouseout="hideTip(event, 'fs30', 62)" onmouseover="showTip(event, 'fs30', 62)" class="id">ctx</span>
            <span class="pn">}</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs31', 63)" onmouseover="showTip(event, 'fs31', 63)" class="fn">bindQuery</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">T</span><span class="pn">&gt;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs27', 64)" onmouseover="showTip(event, 'fs27', 64)" class="fn">parse</span> <span class="pn">:</span> <span class="id">IQueryCollection</span> <span class="k">-&gt;</span> <span class="id">ParserResult</span><span class="pn">&lt;</span><span class="id">&#39;</span><span class="id">T</span><span class="pn">&gt;</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs28', 65)" onmouseover="showTip(event, 'fs28', 65)" class="fn">handler</span> <span class="pn">:</span> <span class="ta">&#39;</span><span class="id">T</span> <span class="k">-&gt;</span> <span class="id">HttpHandler</span><span class="pn">)</span> <span class="pn">:</span> <span class="id">HttpHandler</span> <span class="o">=</span>
        <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs29', 66)" onmouseover="showTip(event, 'fs29', 66)" class="id">next</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs30', 67)" onmouseover="showTip(event, 'fs30', 67)" class="id">ctx</span> <span class="pn">:</span> <span class="id">HttpContext</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span class="id">task</span> <span class="pn">{</span>
                <span class="k">return!</span> <span onmouseout="hideTip(event, 'fs23', 68)" onmouseover="showTip(event, 'fs23', 68)" class="id">handleParserResult</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs27', 69)" onmouseover="showTip(event, 'fs27', 69)" class="id">parse</span> <span onmouseout="hideTip(event, 'fs30', 70)" onmouseover="showTip(event, 'fs30', 70)" class="id">ctx</span><span class="pn">.</span><span class="id">Request</span><span class="pn">.</span><span class="id">Query</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs28', 71)" onmouseover="showTip(event, 'fs28', 71)" class="id">handler</span> <span onmouseout="hideTip(event, 'fs29', 72)" onmouseover="showTip(event, 'fs29', 72)" class="id">next</span> <span onmouseout="hideTip(event, 'fs30', 73)" onmouseover="showTip(event, 'fs30', 73)" class="id">ctx</span>
            <span class="pn">}</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Http-handling" class="anchor" href="#Http-handling">Http handling</a></h2>
<p>We can now use the helper functions together with the parsers to define the http handlers.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">module</span> <span onmouseout="hideTip(event, 'fs32', 74)" onmouseover="showTip(event, 'fs32', 74)" class="m">Handler</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs33', 75)" onmouseover="showTip(event, 'fs33', 75)" class="fn">createContact</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs34', 76)" onmouseover="showTip(event, 'fs34', 76)" class="id">contact</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs12', 77)" onmouseover="showTip(event, 'fs12', 77)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 78)" onmouseover="showTip(event, 'fs9', 78)" class="id">ContactDetails</span><span class="pn">)</span> <span class="o">=</span>
        <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs35', 79)" onmouseover="showTip(event, 'fs35', 79)" class="id">next</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 80)" onmouseover="showTip(event, 'fs36', 80)" class="id">ctx</span> <span class="pn">:</span> <span class="id">HttpContext</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs37', 81)" onmouseover="showTip(event, 'fs37', 81)" class="id">logger</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs36', 82)" onmouseover="showTip(event, 'fs36', 82)" class="id">ctx</span><span class="pn">.</span><span class="id">GetLogger</span><span class="pn">(</span><span class="pn">)</span>
            <span onmouseout="hideTip(event, 'fs37', 83)" onmouseover="showTip(event, 'fs37', 83)" class="id">logger</span><span class="pn">.</span><span class="id">LogInformation</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs38', 84)" onmouseover="showTip(event, 'fs38', 84)" class="id">sprintf</span> <span class="s">&quot;Create contact %A&quot;</span> <span onmouseout="hideTip(event, 'fs34', 85)" onmouseover="showTip(event, 'fs34', 85)" class="id">contact</span><span class="pn">)</span>
            <span class="id">json</span> <span class="pn">{|</span> <span class="id">Message</span> <span class="o">=</span> <span class="s">&quot;ok&quot;</span> <span class="pn">|}</span> <span onmouseout="hideTip(event, 'fs35', 86)" onmouseover="showTip(event, 'fs35', 86)" class="id">next</span> <span onmouseout="hideTip(event, 'fs36', 87)" onmouseover="showTip(event, 'fs36', 87)" class="id">ctx</span>

    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs39', 88)" onmouseover="showTip(event, 'fs39', 88)" class="fn">lookupContact</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs40', 89)" onmouseover="showTip(event, 'fs40', 89)" class="id">filter</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs12', 90)" onmouseover="showTip(event, 'fs12', 90)" class="m">Model</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs6', 91)" onmouseover="showTip(event, 'fs6', 91)" class="id">Lookup</span><span class="pn">)</span> <span class="o">=</span>
        <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs35', 92)" onmouseover="showTip(event, 'fs35', 92)" class="id">next</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 93)" onmouseover="showTip(event, 'fs36', 93)" class="id">ctx</span> <span class="pn">:</span> <span class="id">HttpContext</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs37', 94)" onmouseover="showTip(event, 'fs37', 94)" class="id">logger</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs36', 95)" onmouseover="showTip(event, 'fs36', 95)" class="id">ctx</span><span class="pn">.</span><span class="id">GetLogger</span><span class="pn">(</span><span class="pn">)</span>
            <span onmouseout="hideTip(event, 'fs37', 96)" onmouseover="showTip(event, 'fs37', 96)" class="id">logger</span><span class="pn">.</span><span class="id">LogInformation</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs38', 97)" onmouseover="showTip(event, 'fs38', 97)" class="id">sprintf</span> <span class="s">&quot;Lookup contact %A&quot;</span> <span onmouseout="hideTip(event, 'fs40', 98)" onmouseover="showTip(event, 'fs40', 98)" class="id">filter</span><span class="pn">)</span>
            <span class="id">json</span> <span class="pn">{|</span> <span class="id">Message</span> <span class="o">=</span> <span class="s">&quot;ok&quot;</span> <span class="pn">|}</span> <span onmouseout="hideTip(event, 'fs35', 99)" onmouseover="showTip(event, 'fs35', 99)" class="id">next</span> <span onmouseout="hideTip(event, 'fs36', 100)" onmouseover="showTip(event, 'fs36', 100)" class="id">ctx</span>


<span class="k">let</span> <span onmouseout="hideTip(event, 'fs41', 101)" onmouseover="showTip(event, 'fs41', 101)" class="id">webApp</span> <span class="o">=</span>
    <span class="id">choose</span> <span class="pn">[</span>
        <span class="id">POST</span> <span class="pn">&gt;</span><span class="o">=&gt;</span> <span class="id">route</span> <span class="s">&quot;/&quot;</span> <span class="pn">&gt;</span><span class="o">=&gt;</span> <span onmouseout="hideTip(event, 'fs42', 102)" onmouseover="showTip(event, 'fs42', 102)" class="id">Helper</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 103)" onmouseover="showTip(event, 'fs26', 103)" class="id">bindJson</span> <span onmouseout="hideTip(event, 'fs43', 104)" onmouseover="showTip(event, 'fs43', 104)" class="id">Dto</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 105)" onmouseover="showTip(event, 'fs14', 105)" class="id">parseContactDetails</span> <span onmouseout="hideTip(event, 'fs44', 106)" onmouseover="showTip(event, 'fs44', 106)" class="id">Handler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs33', 107)" onmouseover="showTip(event, 'fs33', 107)" class="id">createContact</span>
        <span class="id">GET</span> <span class="pn">&gt;</span><span class="o">=&gt;</span> <span class="id">route</span> <span class="s">&quot;/&quot;</span> <span class="pn">&gt;</span><span class="o">=&gt;</span> <span onmouseout="hideTip(event, 'fs42', 108)" onmouseover="showTip(event, 'fs42', 108)" class="id">Helper</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs31', 109)" onmouseover="showTip(event, 'fs31', 109)" class="id">bindQuery</span> <span onmouseout="hideTip(event, 'fs43', 110)" onmouseover="showTip(event, 'fs43', 110)" class="id">Dto</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 111)" onmouseover="showTip(event, 'fs17', 111)" class="id">parseLookup</span> <span onmouseout="hideTip(event, 'fs44', 112)" onmouseover="showTip(event, 'fs44', 112)" class="id">Handler</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs39', 113)" onmouseover="showTip(event, 'fs39', 113)" class="id">lookupContact</span>
    <span class="pn">]</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Testing-it-out" class="anchor" href="#Testing-it-out">Testing it out</a></h2>
<p>We can start by sending valid http requests to the endpoints to see everything is working well on the happy path.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="id">POST</span> <span class="id">http</span><span class="pn">:</span><span class="c">//localhost:5000/</span>
<span class="id">Content</span><span class="o">-</span><span class="id">Type</span><span class="pn">:</span> <span class="id">application</span><span class="o">/</span><span class="id">json</span>

<span class="pn">{</span> <span class="s">&quot;name&quot;</span><span class="pn">:</span> <span class="s">&quot;Su&quot;</span><span class="pn">,</span> <span class="s">&quot;email&quot;</span><span class="pn">:</span> <span class="s">&quot;su@foo.bar&quot;</span> <span class="pn">}</span>

<span class="o">=&gt;</span>

<span class="id">HTTP</span><span class="o">/</span><span class="n">1.1</span> <span class="n">200</span> <span class="id">OK</span>
<span class="id">Date</span><span class="pn">:</span> <span class="id">Fri</span><span class="pn">,</span> <span class="n">17</span> <span class="id">Apr</span> <span class="n">2020</span> <span class="n">17</span><span class="pn">:</span><span class="n">02</span><span class="pn">:</span><span class="n">47</span> <span class="id">GMT</span>
<span class="id">Content</span><span class="o">-</span><span class="id">Type</span><span class="pn">:</span> <span class="id">application</span><span class="o">/</span><span class="id">json</span><span class="pn">;</span> <span class="id">charset</span><span class="o">=</span><span class="id">utf</span><span class="o">-</span><span class="n">8</span>
<span class="id">Server</span><span class="pn">:</span> <span class="id">Kestrel</span>
<span class="id">Content</span><span class="o">-</span><span class="id">Length</span><span class="pn">:</span> <span class="n">16</span>

<span class="pn">{</span>
  <span class="s">&quot;message&quot;</span><span class="pn">:</span> <span class="s">&quot;ok&quot;</span>
<span class="pn">}</span>
</code></pre></td>
</tr>
</table>
<p>And</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="id">GET</span> <span class="id">http</span><span class="pn">:</span><span class="c">//localhost:5000/?type=email&amp;value=su@foo.bar</span>

<span class="o">=&gt;</span>

<span class="id">HTTP</span><span class="o">/</span><span class="n">1.1</span> <span class="n">200</span> <span class="id">OK</span>
<span class="id">Date</span><span class="pn">:</span> <span class="id">Fri</span><span class="pn">,</span> <span class="n">17</span> <span class="id">Apr</span> <span class="n">2020</span> <span class="n">17</span><span class="pn">:</span><span class="n">03</span><span class="pn">:</span><span class="n">21</span> <span class="id">GMT</span>
<span class="id">Content</span><span class="o">-</span><span class="id">Type</span><span class="pn">:</span> <span class="id">application</span><span class="o">/</span><span class="id">json</span><span class="pn">;</span> <span class="id">charset</span><span class="o">=</span><span class="id">utf</span><span class="o">-</span><span class="n">8</span>
<span class="id">Server</span><span class="pn">:</span> <span class="id">Kestrel</span>
<span class="id">Content</span><span class="o">-</span><span class="id">Length</span><span class="pn">:</span> <span class="n">29</span>

<span class="pn">{</span>
  <span class="s">&quot;message&quot;</span><span class="pn">:</span> <span class="s">&quot;lookup by email&quot;</span>
<span class="pn">}</span>
</code></pre></td>
</tr>
</table>
<p>If we send the wrong payload to the create endpoint, we will receive a detailed error message</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="id">POST</span> <span class="id">http</span><span class="pn">:</span><span class="c">//localhost:5000/</span>
<span class="id">Content</span><span class="o">-</span><span class="id">Type</span><span class="pn">:</span> <span class="id">application</span><span class="o">/</span><span class="id">json</span>

<span class="pn">{</span> <span class="s">&quot;name&quot;</span><span class="pn">:</span> <span class="s">&quot;&quot;</span><span class="pn">,</span> <span class="s">&quot;email&quot;</span><span class="pn">:</span> <span class="s">&quot;su@foo.bar&quot;</span> <span class="pn">}</span>

<span class="o">=&gt;</span>

<span class="id">HTTP</span><span class="o">/</span><span class="n">1.1</span> <span class="n">400</span> <span class="id">Bad</span> <span class="id">Request</span>
<span class="id">Date</span><span class="pn">:</span> <span class="id">Fri</span><span class="pn">,</span> <span class="n">17</span> <span class="id">Apr</span> <span class="n">2020</span> <span class="n">17</span><span class="pn">:</span><span class="n">05</span><span class="pn">:</span><span class="n">15</span> <span class="id">GMT</span>
<span class="id">Content</span><span class="o">-</span><span class="id">Type</span><span class="pn">:</span> <span class="id">application</span><span class="o">/</span><span class="id">json</span><span class="pn">;</span> <span class="id">charset</span><span class="o">=</span><span class="id">utf</span><span class="o">-</span><span class="n">8</span>
<span class="id">Server</span><span class="pn">:</span> <span class="id">Kestrel</span>
<span class="id">Content</span><span class="o">-</span><span class="id">Length</span><span class="pn">:</span> <span class="n">147</span>

<span class="pn">{</span>
  <span class="s">&quot;errors&quot;</span><span class="pn">:</span> <span class="pn">{</span>
    <span class="s">&quot;name&quot;</span><span class="pn">:</span> <span class="pn">[</span>
      <span class="pn">{</span>
        <span class="s">&quot;property&quot;</span><span class="pn">:</span> <span class="s">&quot;name&quot;</span><span class="pn">,</span>
        <span class="s">&quot;type&quot;</span><span class="pn">:</span> <span class="s">&quot;isNotEmptyOrWhitespace&quot;</span><span class="pn">,</span>
        <span class="s">&quot;message&quot;</span><span class="pn">:</span> <span class="s">&quot;must be not empty or whitespace&quot;</span>
      <span class="pn">}</span>
    <span class="pn">]</span>
  <span class="pn">}</span><span class="pn">,</span>
  <span class="s">&quot;message&quot;</span><span class="pn">:</span> <span class="s">&quot;validation failed&quot;</span>
<span class="pn">}</span>
</code></pre></td>
</tr>
</table>
<p>Likewise for the lookup endpoint</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="id">GET</span> <span class="id">http</span><span class="pn">:</span><span class="c">//localhost:5000/?type=email&amp;value=su</span>

<span class="o">=&gt;</span>

<span class="id">HTTP</span><span class="o">/</span><span class="n">1.1</span> <span class="n">400</span> <span class="id">Bad</span> <span class="id">Request</span>
<span class="id">Date</span><span class="pn">:</span> <span class="id">Fri</span><span class="pn">,</span> <span class="n">17</span> <span class="id">Apr</span> <span class="n">2020</span> <span class="n">17</span><span class="pn">:</span><span class="n">05</span><span class="pn">:</span><span class="n">57</span> <span class="id">GMT</span>
<span class="id">Content</span><span class="o">-</span><span class="id">Type</span><span class="pn">:</span> <span class="id">application</span><span class="o">/</span><span class="id">json</span><span class="pn">;</span> <span class="id">charset</span><span class="o">=</span><span class="id">utf</span><span class="o">-</span><span class="n">8</span>
<span class="id">Server</span><span class="pn">:</span> <span class="id">Kestrel</span>
<span class="id">Content</span><span class="o">-</span><span class="id">Length</span><span class="pn">:</span> <span class="n">132</span>

<span class="pn">{</span>
  <span class="s">&quot;errors&quot;</span><span class="pn">:</span> <span class="pn">{</span>
    <span class="s">&quot;value&quot;</span><span class="pn">:</span> <span class="pn">[</span>
      <span class="pn">{</span>
        <span class="s">&quot;property&quot;</span><span class="pn">:</span> <span class="s">&quot;value&quot;</span><span class="pn">,</span>
        <span class="s">&quot;type&quot;</span><span class="pn">:</span> <span class="s">&quot;isEmail&quot;</span><span class="pn">,</span>
        <span class="s">&quot;message&quot;</span><span class="pn">:</span> <span class="s">&quot;must be a valid email address&quot;</span>
      <span class="pn">}</span>
    <span class="pn">]</span>
  <span class="pn">}</span><span class="pn">,</span>
  <span class="s">&quot;message&quot;</span><span class="pn">:</span> <span class="s">&quot;validation failed&quot;</span>
<span class="pn">}</span>
</code></pre></td>
</tr>
</table>

	<div class="tip" id="fs1">Multiple items<br />union case Email.Email: string -&gt; Email<br /><br />--------------------<br />type Email = | Email of string</div>
<div class="tip" id="fs2">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />--------------------<br />type string = System.String</div>
<div class="tip" id="fs3">type LookupType =<br />&#160;&#160;| LookupName<br />&#160;&#160;| LookupEmail</div>
<div class="tip" id="fs4">union case LookupType.LookupName: LookupType</div>
<div class="tip" id="fs5">union case LookupType.LookupEmail: LookupType</div>
<div class="tip" id="fs6">type Lookup =<br />&#160;&#160;| LookupName of string<br />&#160;&#160;| LookupEmail of Email</div>
<div class="tip" id="fs7">union case Lookup.LookupName: string -&gt; Lookup</div>
<div class="tip" id="fs8">union case Lookup.LookupEmail: Email -&gt; Lookup</div>
<div class="tip" id="fs9">type ContactDetails =<br />&#160;&#160;{Name: string;<br />&#160;&#160;&#160;Email: Email;}</div>
<div class="tip" id="fs10">ContactDetails.Name: string</div>
<div class="tip" id="fs11">Multiple items<br />ContactDetails.Email: Email<br /><br />--------------------<br />type Email = | Email of string</div>
<div class="tip" id="fs12">module Model<br /><br />from Giraffe-tutorial</div>
<div class="tip" id="fs13">val parseEmail : obj</div>
<div class="tip" id="fs14">val parseContactDetails : obj</div>
<div class="tip" id="fs15">val parseLookupType : paramName:&#39;a -&gt; _arg1:string -&gt; &#39;b</div>
<div class="tip" id="fs16">val paramName : &#39;a</div>
<div class="tip" id="fs17">val parseLookup : obj</div>
<div class="tip" id="fs18">namespace Microsoft</div>
<div class="tip" id="fs19">namespace System</div>
<div class="tip" id="fs20">namespace System.Text</div>
<div class="tip" id="fs21">val internal badRequest : payload:&#39;a -&gt; obj</div>
<div class="tip" id="fs22">val payload : &#39;a</div>
<div class="tip" id="fs23">val internal handleParserResult : result:&#39;a -&gt; handler:(&#39;T -&gt; &#39;b) -&gt; &#39;c</div>
<div class="tip" id="fs24">val result : &#39;a</div>
<div class="tip" id="fs25">val handler : (&#39;T -&gt; &#39;b)</div>
<div class="tip" id="fs26">val bindJson : parse:(obj -&gt; obj) -&gt; handler:(&#39;T -&gt; obj) -&gt; next:obj -&gt; ctx:obj -&gt; obj</div>
<div class="tip" id="fs27">val parse : (obj -&gt; obj)</div>
<div class="tip" id="fs28">val handler : (&#39;T -&gt; obj)</div>
<div class="tip" id="fs29">val next : obj</div>
<div class="tip" id="fs30">val ctx : obj</div>
<div class="tip" id="fs31">val bindQuery : parse:(obj -&gt; obj) -&gt; handler:(&#39;T -&gt; obj) -&gt; next:obj -&gt; ctx:obj -&gt; obj</div>
<div class="tip" id="fs32">type Handler&lt;&#39;T&gt; =<br />&#160;&#160;delegate of obj * &#39;T -&gt; unit</div>
<div class="tip" id="fs33">val createContact : contact:Model.ContactDetails -&gt; next:&#39;a -&gt; ctx:&#39;b -&gt; &#39;c</div>
<div class="tip" id="fs34">val contact : Model.ContactDetails</div>
<div class="tip" id="fs35">val next : &#39;a</div>
<div class="tip" id="fs36">val ctx : &#39;b</div>
<div class="tip" id="fs37">val logger : obj</div>
<div class="tip" id="fs38">val sprintf : format:Printf.StringFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="tip" id="fs39">val lookupContact : filter:Model.Lookup -&gt; next:&#39;a -&gt; ctx:&#39;b -&gt; &#39;c</div>
<div class="tip" id="fs40">val filter : Model.Lookup</div>
<div class="tip" id="fs41">val webApp : obj</div>
<div class="tip" id="fs42">module Helper<br /><br />from Giraffe-tutorial</div>
<div class="tip" id="fs43">module Dto<br /><br />from Giraffe-tutorial</div>
<div class="tip" id="fs44">Multiple items<br />module Handler<br /><br />from Giraffe-tutorial<br /><br />--------------------<br />type Handler&lt;&#39;T&gt; =<br />&#160;&#160;delegate of obj * &#39;T -&gt; unit</div>

</div>
    </div>
</main>
<footer>

</footer>
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://fracek.github.io/Saon/tips.js"></script>

</body>
</html>